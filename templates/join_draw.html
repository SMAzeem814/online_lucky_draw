<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Draw</title>

    <link rel="stylesheet" 
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <link rel="stylesheet" 
          href="{{ url_for('static', filename='css/styles.css') }}">
</head>

<body>

<div class="content">

    <h2 class="text-center fw-bold mb-4">üéüÔ∏è Join Draw</h2>

    <div class="card p-4 shadow-sm" style="max-width: 700px; margin: auto;">

        <form method="POST">

            <!-- NAME -->
            <div class="mb-3">
                <label>Your Full Name</label>
                <input type="text" name="name" class="form-control"
                       value="{{ user_info.username }}" required>
            </div>

            <!-- EMAIL -->
            <div class="mb-3">
                <label>Email</label>
                <input type="email" name="email" class="form-control"
                       value="{{ user_info.email }}" required>
            </div>

            <!-- PHONE -->
            <div class="mb-3">
                <label>Phone Number</label>
                <input type="text" name="phone" class="form-control" required>
            </div>

            <!-- PAYMENT METHOD -->
            <div class="mb-3">
                <label>Payment Method</label>
                <select class="form-select" id="payment_method" name="payment_method" required>
                    <option value="EasyPaisa">EasyPaisa</option>
                    <option value="JazzCash">JazzCash</option>
                    <option value="Bank">Bank</option>
                </select>
            </div>

            <!-- BANK NAME -->
            <div class="mb-3" id="bank_section" style="display: none;">
                <label>Bank Name</label>
                <select class="form-select" name="bank_name">
                    <option value="">Select Bank</option>
                    <option value="HBL">HBL</option>
                    <option value="UBL">UBL</option>
                    <option value="MCB">MCB</option>
                    <option value="Allied Bank">Allied Bank</option>
                    <option value="Meezan Bank">Meezan Bank</option>
                    <option value="National Bank">National Bank</option>
                    <option value="Bank Al Habib">Bank Al Habib</option>
                </select>
            </div>

            <!-- AMOUNT -->
            <div class="mb-3">
                <label>Amount Paid</label>
                <input type="number" name="amount" class="form-control" required>
            </div>
            <!-- AGE -->
            <div class="mb-3">
              <label>Age</label>
              <input type="number" name="age" id="age" class="form-control" min="1" required>
           </div>

            

            <!-- SUBMIT -->
            <button class="btn btn-primary w-100 mt-3">Join Draw</button>

        </form>
    </div>
</div>

<script>
document.getElementById("payment_method").addEventListener("change", function () {
    let bankSection = document.getElementById("bank_section");
    bankSection.style.display = (this.value === "Bank") ? "block" : "none";
});

/* AGE ELIGIBILITY CHECK */
document.querySelector("form").addEventListener("submit", function (e) {
    let age = document.getElementById("age").value;

    if (age < 18) {
        e.preventDefault();
        alert("‚ùå You must be 18 or above to participate in the draw.");
    }
});
</script>


</body>
</html>
